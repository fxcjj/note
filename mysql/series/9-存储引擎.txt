

存储引擎

MySQL可以将数据以不同的技术存储在文件（内存）中，这种技术就称为存储引擎。

每一种存储引擎使用不同的存储机制、索引技巧、锁定水平，最终提供广泛且不同的功能。

Note: 就是一种存储、查询的技术。


//显示表结构
show create table user;


MySQL支持的存储引擎
	- MyISAM
	- InnoDB
	- Memory
	- CSV
	- Archive
	
并发控制
	- 当多个连接对记录进行修改时保证数据的一致性和完整性。

锁
	- 共享锁（读锁）：在同一时间段内，多个用户可以读取同一个资源，
					读取过程中数据不会发生任何变化。
	- 排他锁（写锁）：在任何时候只能有一个用户写入资源，当进行写锁时会
					阻塞其他的读锁或者写锁操作。
	
锁颗粒
	- 表锁，是一种开销最小的锁策略。
	- 行锁，是一种开销最大的锁策略。
	
事务
	- 事务用于保证数据库的完整性。
	
	用户A ------转账200元------用户B
	步骤：
		1、用户A账户减去200元（账户余额>=200元）
		2、用户B账户增加200元

事务的特性
	- 原子性(Atomicity)
	- 一致性(Consistency)
	- 隔离性(Isolation)
	- 持久性(Durability)
	
外键
	- 是保证数据一致性的一种策略。

索引（普通、唯一、全文、btree等）
	- 是对数据表中一列或多列的值进行排序的一种结构。就像是书本的目录。	
	
各种存储引擎的特点
特点		MyISAM		InnoDB		Memory	Archive
存储限制	256TB		64TB		有		无
事务安全	-			支持		-		-
支持索引	支持		支持		支持	-
锁颗粒		表锁		行锁		表锁	行锁
数据压缩	支持		-			-		支持
支持外键	-			支持		-		-

MyISAM适用于处理事务不多的情况。
InnoDB适用于处理事务、支持外键的情况。


修改存储引擎的方法
* 通过修改MySQL配置文件实现
	- default-storage-engine=engine
* 创建表时指定
	CREATE TABLE t_name(
		...
	) ENGINE=MyISAM
* 通过修改表实现
	- ALTER TABLE t_name ENGINE [=] ENGINE

		


