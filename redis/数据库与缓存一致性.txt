
1 更新数据库时，删除缓存而不是更新缓存
2 延时双删


1 更新数据库时，删除缓存而不是更新缓存
懒加载思想，用到缓存时，再去查询数据库并计算值并放入缓存。
场景：更新数据库多次，在此期间未使用到查询缓存，那么每次更新数据库都要更新缓存，实属浪费，在计算复杂值的情况下，
代价更高。所以在更新时不要更新缓存，只是删除即可。当使用到缓存时，查询数据库并计算值然后再放入缓存中。

2 延时双删（这里的延时指在2和3之间sleep一段时间，好像没用）
1)redis.del(key);
2)db.update(entity);
3)redis.del(key);

情况1
在2)执行完之前，如果有其它线程访问，那么在执行3)之前，缓存中都要老数据。

情况2
在2)执行完之后，才有其它线程访问，那么缓存中是新数据。




